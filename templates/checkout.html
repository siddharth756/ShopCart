{% extends 'base.html' %}

{% block title %}Checkout-page{% endblock %}
{% load static %}

{% block content %}

<section class="priceTable">
  <table class="table text-center" id="checkout_table">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Item</th>
        <th scope="col">Name</th>
        <th scope="col">Qty</th>
        <th scope="col">Price</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody id="checkout">
    </tbody>
  </table>
</section>

<section class="orderForm">
  <form class="mt-5 mx-auto p-5" method="POST">
    {% csrf_token %}
    <div class="mb-3 text-center">
      <h4 class="p-2" style="color: var(--color);text-decoration: underline;">Order Form</h4>
    </div>
    <div class="form-row row">
      <input type="hidden" id="inputitems" name="inputitems">
      <div class="form-group col-md-6">
        <label for="inputname">Name</label>
        <input type="text" class="form-control" id="inputname" placeholder="Name" name="Name" required>
      </div>
      <div class="form-group col-md-6">
        <label for="inputEmail4">Email</label>
        <input type="email" class="form-control" id="inputEmail4" placeholder="Email" name="email" required>
      </div>
    </div>
    <div class="form-group">
      <label for="inputAddress">Address</label>
      <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" name="address1" required>
    </div>
    <div class="form-group">
      <label for="inputAddress2">Address 2</label>
      <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor"
        name="address2">
    </div>
    <div class="form-row row">
      <div class="form-group col-md-4">
        <label for="inputCity">City</label>
        <input type="text" class="form-control" id="inputCity" name="city" required>
      </div>
      <div class="form-group col-md-4">
        <label for="inputState">State</label>
        <select id="inputState" class="form-control" name="state" required>
          <option selected>Choose...</option>
          <option>Gujarat</option>
          <option>Maharashtra</option>
          <option>Rajassthan</option>
          <option>Madhyapradesh</option>
        </select>
      </div>
      <div class="form-group col-md-4">
        <label for="inputZip">Zip</label>
        <input type="text" class="form-control" id="inputZip" name="zipcode" required>
      </div>
      <div class="form-group col-md-4">
        <label for="total">Total</label>
        <input type="text" class="form-control" id="total" name="total" readonly>
      </div>
    </div>
    <button type="submit" id="order_btn" class="mt-4">Order</button>
    <div>
      {% if messages %}

      {% for message in messages %}
      <p class="mt-3 text-success">{{message}}</p>
      {% endfor %}

      {% endif %}
    </div>
  </form>
</section>

{% endblock %}

{% block script %}
<script  type="text/javascript">
  items_list = localStorage.getItem('cart');
  $('#inputitems').val(items_list);
</script>

{% endblock %}